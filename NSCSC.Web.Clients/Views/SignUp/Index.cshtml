@using NSCSC.Shared
@model NSCSC.Shared.Models.ClientSite.RegisterModels
@{
    ViewBag.Title = "Register";
}
@Html.HiddenFor(model => model.CustomerDetail.ImageURL)
@Html.HiddenFor(model => model.MerchantDetail.ImageURL)
@{ int index = 1;}
<div class="se-pre-con" style="display: none;"></div>
<div class="title_left">
    @*@Html.Partial("~/Views/Shared/_breadcrumb.cshtml",
                        new Dictionary<string, string> { { "A", "SIGN UP" }, { "B", "HOME" }, { "C", "SIGN UP" } })*@
    <div class="container">
        @*<div class="col-sm-12 col-xs-12 col-md-12" style="margin-top:-25px;float:right">*@
            <h3>
                @*SIGN UP*@
                <small class="breadcrum">
                   @*<i class='fa fa-caret-right'></i>*@<span>sign up</span>
                </small>
            </h3>
        @*</div>*@
        <div class="clearfix"></div>
    </div>
</div>
<div style="padding-top: 15px;" class="">
    <div class="se-pre-con" style="display: none;"></div>
    <div class="x_panel">
        <div class="x_content">
            <div id="wizard" class="form_wizard wizard_horizontal wizard">
                <ul class="wizard_steps anchor">
                    <li>
                        <a href="#" id="step_@index" class="selected" isdone="1" rel="1">
                            <span  class="step_no check-step-1"><i  class="fa fa-check check-step-1" aria-hidden="true" style="color:#28acf7; border-radius:50%"></i></span>
                            <span class="step_descr">
                                <small>User information</small>
                            </span>
                        </a>
                    </li>
                    <li>
                        <a href="#" id="step_@(index+1)" class="done" isdone="1" rel="2" style="padding-left: 40px !important;">
                            <span class="step_no check-step-2"><i  class="fa fa-check check-step-2" aria-hidden="true" style="color:#ccc;border-radius:50%"></i></span>
                            <span class="step_descr">
                                <small>Merchant information</small>
                            </span>
                        </a>
                    </li>
                    <li>
                        <a href="#" id="step_@(index +2)" class="done" isdone="1" rel="3">
                            <span class="step_no check-step-3"><i  class="fa fa-check check-step-3" aria-hidden="true" style="color:#ccc;border-radius:50%"></i></span>
                            <span class="step_descr">
                                <small>Terms and Conditions</small>
                            </span>
                        </a>
                    </li>
                </ul>

            </div>     
            <div id="wizard_column"  class="col-md-12 wizard_column" style="padding-left:20px; margin-bottom:30px">
                <div style="height:100px; border-left: 1px solid #ccc;" class="col-md-12">
                    <div class="row">
                        <div class="col-md-12" style="height:50px">
                            <div class="dot check-step-1" style="background-color:#28acf7">
                                <i class="fa fa-check check-step-1" aria-hidden="true" style="color:#28acf7"></i>
                            </div>
                            <div class="top20">
                                <small>User information</small>
                            </div>

                        </div>
                        <div class="col-md-12" style="height:50px">
                            <div class="dot check-step-2">
                                <i class="fa fa-check check-step-2" aria-hidden="true" style="color:#ccc"></i>
                            </div>
                            <div class="top20">
                                <small>Merchant information</small>
                            </div>

                        </div>
                        <div class="col-md-12">
                            <div class="dot check-step-3">
                                <i class="fa fa-check check-step-3" aria-hidden="true" style="color:#ccc"></i>
                            </div>
                            <div class="top20">
                                <small>Terms and Conditions</small>
                            </div>

                        </div>
                    </div>
                </div>
    
                       
            </div>
            <div id="idGroupRegister" class="stepContainer" style="overflow: hidden; width: 100%;">
                @*border: 2px solid black; border-radius: 3px;*@
                <div>
                  
                    @using (@Html.BeginForm("Index", "SignUp", FormMethod.Post, new { @id = "form-register", @class = "form-horizontal", @enctype = "multipart/form-data" }))
                    {
                        @*Personal information*@
                    <div id="step-1" class="content" style="margin-bottom:15px; display: block;">
                        <div class="col-md-12">
                            <h3 style="margin:30px 0 ">PERSONAL INFORMATION</h3> 
                            <div class="col-md-offset-1">
                                <span class="" style="font-style:italic; color:darkred; margin:20px 0">(*) Required fields</span>
                            </div>                         
                        </div>
                        
                        <div class="col-md-12 col-sm-12 col-xs-12">
                            <div style="" class="col-md-3 col-sm-4 col-xs-offset-0">
                                <!--Image Placeholder-->
                                <div style="" class="form-group">
                                    <div style="text-align: center; width:275px">
                                        <div class="signup-parent-img">
                                            @if (!string.IsNullOrEmpty(Model.CustomerDetail.ImageURL))
                                            {
                                                <img id="upload-preview1" src="@Model.CustomerDetail.ImageURL" width="150"  height="150" style="border-radius: 100%; " />
                                            }
                                            else
                                            {
                                                <img id="upload-preview1" class="" src="~/images/dummy/user.png" width="150" height="150" style="border-radius: 100%; " />
                                            }
                                            <div class="signup-parent-button">
                                                <button class="signup-button" onclick="showCusPictureUpload();" type="button" style="color:white">Add/Edit</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--IMAGE-->
                                <div class="form-group">
                                    <div class="col-md-12 col-sm-12 col-xs-12" style="text-align:center;">
                                        <div class="upload-btn-wrapper" style="cursor:pointer;">
                                            @Html.TextBoxFor(model => model.CustomerDetail.PictureUpload, new { @id = "CusPictureUpload", @type = "file", @onchange = "PreviewImage(this,\"upload-preview1\")", @accept = "*.jpg", @style = "width: 100%; height: 100%; " })
                                        </div>
                                        @Html.ValidationMessageFor(model => model.CustomerDetail.PictureUpload, null, new { @class = "label label-danger" })
                                    </div>
                                </div>
                            </div>
                            <div style="padding-right: 0px !important; " class="col-md-9 col-sm-8 col-xs-12">
                                <div class="form-group">
                                    @*Name*@
                                    <label class="label-left col-md-3 col-sm-3 col-xs lineHeight fontLighter">Name*</label>
                                    <div class="col-md-5 col-sm-8 col-xs-12">
                                        @Html.TextBoxFor(model => model.CustomerDetail.Name, new { @id = "txtCusName", @class = "form-control", @autocomplete = "off" })
                                        @Html.ValidationMessageFor(model => model.CustomerDetail.Name, null, new { @class = "label" })
                                        <label style="display: none; color: white; " class="label label-danger" id="errorCusName">Name is requied</label>
                                    </div>
                                </div>

                                <div class="form-group">
                                    @*Email*@
                                    <label class="label-left col-md-3 col-sm-3 col-xs lineHeight fontLighter">Email*</label>
                                    <div class="col-md-5 col-sm-8 col-xs-12">
                                        @Html.TextBoxFor(model => model.CustomerDetail.Email, new { @class = "form-control", @id = "txtCusEmail", @autocomplete = "off" })
                                        @Html.ValidationMessageFor(model => model.CustomerDetail.Email, null, new { @class = "label label-danger", @style = "color: white" })
                                        <label style="display: none; color: white;" class="label label-danger" id="errorCusEmail">Email is requied</label>
                                        <label style="display: none; color: white;" class="label label-danger" id="errorValidCusEmail">Please enter a valid email address</label>
                                        <label style="display: none; color: white;" class="label label-danger" id="ErrorCheckEmail">Email address has already been used. Please try with another one.</label>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="label-left col-md-3 col-sm-3 col-xs lineHeight fontLighter">Phone*</label>
                                    <div class="col-md-5 col-sm-8 col-xs-12">
                                        @Html.TextBoxFor(model => model.CustomerDetail.Phone, new { @id = "txtCusPhone", @class = "form-control", @type = "number" })
                                        @Html.ValidationMessageFor(model => model.CustomerDetail.Phone, null, new { @class = "label" })
                                        <label style="display: none; color: white;" class="label label-danger" id="errorCusPhone">Phone is requied</label>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="label-left col-md-3 col-sm-3 col-xs lineHeight fontLighter">Password*</label>
                                    <div class="col-md-5 col-sm-8 col-xs-12">
                                        @Html.PasswordFor(model => model.CustomerDetail.Password, new { @class = "form-control", @id = "txtCusPassword" })
                                        @Html.ValidationMessageFor(model => model.CustomerDetail.Password, null, new { @class = "label" })
                                        <label style="display: none; color: white;" class="label label-danger" id="errorPassword">Password is requied</label>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="label-left col-md-3 col-sm-3 col-xs lineHeight fontLighter">Confirm Password*</label>
                                    <div class="col-md-5 col-sm-8 col-xs-12">
                                        @Html.PasswordFor(model => model.CustomerDetail.ConfirmPassword, new { @class = "form-control", @id = "txtCusConfirmPassword" })
                                        @Html.ValidationMessageFor(model => model.CustomerDetail.ConfirmPassword, null, new { @class = "label" })
                                        <label style="display: none; color: white;" class="label label-danger" id="errorConfPassword">Confirm password is requied</label>
                                        <label style="display: none; color: white;" class="label label-danger" id="errorCorrectConfPassword">Confirm password is not correct</label>
                                    </div>
                                </div>

                                <div class="form-group">
                                    @*Gender*@
                                    <label class="label-left col-md-3 col-sm-3 col-xs lineHeight fontLighter">Gender</label>
                                    <div class="col-md-5 col-sm-8 col-xs-12">
                                        <label class="radio-inline">
                                            @Html.RadioButtonFor(model => model.CustomerDetail.Gender, "true", new { @checked = "checked", @class = "flat", @name = "radMale", @id = "idGenderMale" }) Male
                                        </label>
                                        <label class="radio-inline">
                                            @Html.RadioButtonFor(model => model.CustomerDetail.Gender, "false", new { @class = "flat", @name = "radFemale", @id = "idGenderFemale" }) Female
                                        </label>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="label-left col-md-3 col-sm-12 col-xs lineHeight fontLighter"><strong> Home Address</strong></label>
                                    @*<div class="col-md-5 col-sm-5 col-xs-12">
                                    </div>*@
                                </div>

                                <div class="form-group">
                                    <label class="label-left col-md-3 col-sm-3 col-xs lineHeight fontLighter">Street</label>
                                    <div class="col-md-5 col-sm-8 col-xs-12">
                                        @Html.TextBoxFor(model => model.CustomerDetail.HomeStreet, new { @class = "form-control" })
                                        @Html.ValidationMessageFor(model => model.CustomerDetail.HomeStreet, null, new { @class = "label" })
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="label-left col-md-3 col-sm-3 col-xs lineHeight fontLighter">City</label>
                                    <div class="col-md-5 col-sm-8 col-xs-12">
                                        @Html.TextBoxFor(model => model.CustomerDetail.HomeCity, new { @class = "form-control" })
                                        @Html.ValidationMessageFor(model => model.CustomerDetail.HomeCity, null, new { @class = "label" })
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="label-left col-md-3 col-sm-3 col-xs lineHeight fontLighter">Country</label>
                                    <div class="col-md-5 col-sm-8 col-xs-12">
                                        @Html.DropDownListFor(model => model.CustomerDetail.HomeCountry,
                                            new SelectList(Model.ListCounTry, "Name", "Name", Model.CustomerDetail.HomeCountry), "",
                                             new
                                             {
                                                 @class = "form-control select2_multiple",
                                                 @id = "CountryDdl",
                                                 @style = "width:100%;",
                                                 @tabindex = "-1"
                                             })
                                        @Html.ValidationMessageFor(model => model.CustomerDetail.HomeCountry, null, new { @class = "label" })
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="label-left col-md-3 col-sm-3 col-xs lineHeight fontLighter">Zipcode</label>
                                    <div class="col-md-5 col-sm-8 col-xs-12">
                                        @Html.TextBoxFor(model => model.CustomerDetail.HomeZipCode, new { @class = "form-control" })
                                        @Html.ValidationMessageFor(model => model.CustomerDetail.HomeZipCode, null, new { @class = "label" })
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                        @*Merchant information*@
                        <div style="">
                            <div id="step-2" class="" style="margin-bottom:15px; display: none; ">
                                <h3 style="padding-left: 15px; padding-bottom: 10px;">MERCHANT INFORMATION</h3>
                                <div class="col-md-3 col-sm-4 col-xs-12">
                                    <!--Image Placeholder-->
                                    <div class="form-group">
                                        <div style="text-align:center;width:275px">


                                            <div class="signup-parent-img">
                                                @if (!string.IsNullOrEmpty(Model.MerchantDetail.ImageURL))
                                                {
                                                    <img id="upload-preview2" src="@Model.MerchantDetail.ImageURL" width="150" height="150"  style="border-radius: 100% " />
                                                }
                                                else
                                                {
                                                    <img id="upload-preview2" class="" src="~/images/dummy/store.jpg" width="150" height="150" style=" border-radius: 100% " />
                                                }
                                                <div class="signup-parent-button">
                                                    <button class="signup-button" onclick="showMerPictureUpload();" type="button" style="color:white">Add/Edit</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!--IMAGE-->
                                    <div class="form-group">
                                        <div class="col-md-12 col-sm-12 col-xs-12" style="text-align:center;">
                                            <div class="upload-btn-wrapper" style="cursor:pointer;">
                                                @*<button style="height: 36px !important; vertical-align: central !important; " class="btn btn-default" onclick="showMerPictureUpload();" type="button">Add/Edit</button>*@
                                                @Html.TextBoxFor(model => model.MerchantDetail.PictureUpload, new { @id = "MerPictureUpload", @type = "file", @onchange = "PreviewImage(this,\"upload-preview2\")", @accept = "*.jpg", @style = "width: 100%; height: 100%; display: none;" })
                                            </div>
                                            @Html.ValidationMessageFor(model => model.MerchantDetail.PictureUpload, null, new { @class = "label label-danger" })
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-9 col-sm-8 col-xs-12">
                                    @*Merchant Name*@
                                    <div class="form-group row">
                                        <label class="label-left col-md-2 col-sm-4 col-xs-12 lineHeight fontLighter">Merchant Name*</label>
                                        <div class="col-md-6 col-sm-8 col-xs-12">
                                            @Html.TextBoxFor(model => model.MerchantDetail.Name, new { @id = "txtMerName", @class = "form-control", @autocomplete = "off" })
                                            @Html.ValidationMessageFor(model => model.MerchantDetail.Name, null, new { @class = "label" })
                                            <label style="display: none; color: white;" class="label label-danger" id="errorMerName">Name is requied</label>
                                        </div>
                                    </div>

                                    <div class="form-group row">
                                        @*Email*@
                                        <label class="label-left col-md-2 col-sm-4 col-xs-12 lineHeight fontLighter">Email*</label>
                                        <div class="col-md-6 col-sm-8 col-xs-12">
                                            @Html.TextBoxFor(model => model.MerchantDetail.Email, new { @id = "txtMerEmail", @class = "form-control" })
                                            @Html.ValidationMessageFor(model => model.MerchantDetail.Email, null, new { @class = "label" })
                                            <label style="display: none; color: white;" class="label label-danger" id="errorMerEmail">Email is requied</label>
                                            <label style="display: none; color: white;" class="label label-danger" id="errorValidMerEmail">Please enter a valid email address</label>
                                        </div>
                                    </div>

                                    <div class="form-group row">
                                        @*Phone*@
                                        <label class="label-left col-md-2 col-sm-4 col-xs-12 lineHeight fontLighter">Phone</label>
                                        <div class="col-md-6 col-sm-8 col-xs-12">
                                            @Html.TextBoxFor(model => model.MerchantDetail.Phone, new { @class = "form-control" })
                                            @Html.ValidationMessageFor(model => model.MerchantDetail.Phone, null, new { @class = "label" })
                                        </div>
                                    </div>

                                    <div class="form-group row">
                                        @*Tax No.*@
                                        <label class="label-left col-md-2 col-sm-4 col-xs-12 lineHeight fontLighter">Tax No.</label>
                                        <div class="col-md-6 col-sm-8 col-xs-12">
                                            @Html.TextBoxFor(model => model.MerchantDetail.GSTRegNo, new { @class = "form-control" })
                                            @Html.ValidationMessageFor(model => model.MerchantDetail.GSTRegNo, null, new { @class = "label" })
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <label class="label-left col-md-12 col-sm-12 col-xs-12">Headquater </label>
                                    </div>

                                    <div class="form-group row">
                                        @*Street*@
                                        <label class="label-left col-md-2 col-sm-4 col-xs-12 lineHeight fontLighter">Street</label>
                                        <div class="col-md-6 col-sm-8 col-xs-12">
                                            @Html.TextBoxFor(model => model.MerchantDetail.Street, new { @class = "form-control" })
                                            @Html.ValidationMessageFor(model => model.MerchantDetail.Street, null, new { @class = "label" })
                                        </div>
                                    </div>

                                    <div class="form-group row">
                                        @*City*@
                                        <label class="label-left col-md-2 col-sm-4 col-xs-12 lineHeight fontLighter">City</label>
                                        <div class="col-md-6 col-sm-8 col-xs-12">
                                            @Html.TextBoxFor(model => model.MerchantDetail.City, new { @class = "form-control" })
                                            @Html.ValidationMessageFor(model => model.MerchantDetail.City, null, new { @class = "label" })
                                        </div>
                                    </div>

                                    <div class="form-group row">
                                        <label class="label-left col-md-2 col-sm-4 col-xs-12 lineHeight fontLighter">Country</label>
                                        <div class="col-md-6 col-sm-8 col-xs-12">
                                            @Html.DropDownListFor(model => model.MerchantDetail.Country,
                                            new SelectList(Model.ListCounTry, "Name", "Name", Model.MerchantDetail.Country), "",
                                            new
                                            {
                                                @class = "form-control select2_multiple",
                                                @id = "CountryDdl3",
                                                @style = "width:100%;",
                                                @tabindex = "-1"
                                            })
                                            @Html.ValidationMessageFor(model => model.MerchantDetail.Country, null, new { @class = "label" })
                                        </div>
                                    </div>

                                    <div class="form-group row">
                                        @*ZIP Code*@
                                        <label class="label-left col-md-2 col-sm-4 col-xs-12 lineHeight fontLighter">Zip Code</label>
                                        <div class="col-md-6 col-sm-8 col-xs-12">
                                            @Html.TextBoxFor(model => model.MerchantDetail.ZipCode, new { @class = "form-control" })
                                            @Html.ValidationMessageFor(model => model.MerchantDetail.ZipCode, null, new { @class = "label" })
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    }
                </div>

                        @*Policies information*@
                        <div id="step-3" class="" style="margin-bottom:15px; display: none;">
                            <div style="border: 1px dashed #e0e0e0;">
                                <div class="">
                                    <h3 class="" style="font-weight:bolder; padding-left: 7px;">PRIVACY POLICY</h3>
                                </div>
                                <div style="" class="">
                                    <div id="" class="form-group" style="overflow: auto; height: 500px;text-align: justify;padding:10px">
                                        <div class="">
                                            <h4>1. General</h4>
                                            <p>1.1 This Privacy Policy sets out our policy regarding the collection, use, disclosure and/or processing of your Personal Data. It applies to all Personal Data collected, stored, disclosed and/or processed by us. It also sets out the security measures we take to protect your data. This is to assist you in making an informed decision before providing us with any of your Personal Data.</p>
                                            <p>1.2 "Personal Data" is defined under the PDPA to mean data, whether true or not, about an individual who can be identified from that data, or from that data and other information to which an organisation has or is likely to have access.</p>
                                            <p>1.3 All defined terms in this Privacy Policy shall have the same meaning as is given to those terms in the Terms and Conditions of our Website, Mobile Application Service and/or Web Service.</p>
                                            <h4>2. Policy Application</h4>
                                            <p>2.1 We are committed to safeguarding your Personal Data in compliance with the Singapore Personal Data Protection Act 2012 ("PDPA") and all the associated regulations and guidelines as may from time to time be issued under it.</p>
                                            <p>2.2 By visiting or using this Mobile Application Service and/or Web Service, you agree to the terms of this Privacy Policy. Please review this Privacy Policy carefully before visiting/using our Mobile Application Service and/or Web Service or providing us with any of your Personal Data.</p>
                                            <h4>3. Collection of Personal Data</h4>
                                            <p>3.1 We will collect your Personal Data in accordance with the PDPA from information which you provide to us: (a) through your use of our Mobile Application Service and/or Web Service; (b) in your interaction with us; (c) when you make a purchase on our Mobile Application Service and/or Web Service; (d) in the course of telephone enquiries; (e) via application or other forms; (f) when you subscribe to our newsletter; (g) when you sign up for an account on our Mobile Application Service and/or Web Service; (h) via cookies or through any other voluntary submission of any information by you.</p>
                                            <p>3.2 Personal Data that may be collected includes, among other things, your name; mailing address; telephone number(s); email addresses; date of birth; gender; nationality; Facebook username; purchases of products; payment information; credit card numbers; marketing preferences; answers you provide to security questions; information used to provide products or services; information needed to administer rewards or loyalty programs;  and any other types of information that you choose to provide to us or that we may collect about you through your transactions with us. Additional information such as the user’s transaction location, transaction details, purchase activity, device information, location information, and browser information may also be collected.</p>
                                            <p>3.3 If you are only browsing our Mobile Application Service and/or Web Service, we do not capture data that allows us to identify you individually.</p>
                                            <p>3.4 Our Mobile Application Service and/or Web Service do not sell or share any personal information about a user to or with any person or organisation except:</p>
                                            <ul>
                                                <li> as authorised by the user to transfer information in the user’s digital application form, or other information provided by the user, to the Merchant for the purposes of the user joining or participating in any Merchant Programs;</li>
                                                <li> as authorised by the user to transfer to the Merchant the user’s first name and last name, email address and phone number for the purpose of reservations/bookings, downloading/use of any voucher, or scanning any QR code at the Merchant’s tablet/mobile device for the purposes of receiving/using a voucher, confirmation of reservations/bookings, receiving of loyalty points and verification/adminstration of e-gift or e-membership cards;</li>
                                                <li> to Merchants or third parties with whom our Mobile Application Service and/or Web Service has entered into a business relationship in order to or in connection with providing various products or services to the user (either directly or through one or more third parties);</li>
                                                <li> as may be required by applicable law or regulatory requirement;</li>
                                                <li> as otherwise set out in our Mobile Application Service and/or Web Service Terms and Conditions at www.nuweb.com.sg </li>
                                            </ul>
                                            <h4>4. Purposes for Collection, Use, Disclosure and Processing of your Personal Data</h4>
                                            <p>4.1 By submitting your Personal Data to us, you acknowledge and consent to our use and disclosure of your Personal Data for the purposes for which it was collected and for any related or ancillary purpose, including but not limited to the following:-</p>
                                            <ul>
                                                <li> To respond to your requests;</li>
                                                <li> To process any orders or purchases which you make on our Mobile Application Service and/or Web Service;</li>
                                                <li> To manage and/or process your registration as a Member, or your sign-ups for mailing lists or promotional activities, etc.</li>
                                                <li> To communicate with you on your enquiries;</li>
                                                <li> To obtain your feedback on our services to you;</li>
                                                <li> To improve the quality of service provided to you on our Mobile Application Service and/or Web Service;</li>
                                                <li> To our related companies and/or our agents for internal auditing and administration;</li>
                                                <li> For the marketing of promotions, products and services which we think may be of interest to you;</li>
                                                <li> For conducting market research and customer satisfaction surveys on our products;</li>
                                                <li> Reservations/bookings with our Merchants;</li>
                                                <li> Downloading/use of any voucher, e-gift cards, promotions, and/or e-membership cards;</li>
                                                <li> Receiving of membership loyatly points.</li>
                                            </ul>
                                            <p>4.2 As the Purposes for which we may collect, use, disclose or process your Personal Data depend on the circumstances at hand, such purpose may not appear above. We shall notify you of such other purpose at the time of obtaining your consent, unless processing of your Personal Data without your consent is permitted by the PDPA or by law.</p>
                                            <p>4.3 Our Mobile Application Service and/or Web Service collects information on its users when you sign up for an account and when using our Mobile Application Service and/or Web Service. When you register, we may ask you for information about you, including your first name, last name, email address, gender and birth year. Once you register with us, you are not anonymous to us. Page visits or mobile application usage may also store information about your computer or mobile phone configuration such as your IP address, location, where you have executed transactions stored within the application, screens viewed within the mobile application, cookie information and the pages you requested. </p>
                                            <p>4.4 Our Mobile Application Service and/or Web Service may use this information to help make changes to the service to better serve you and our users. We also use the information to customize content on the site or in the mobile application and to match offers to you that will be displayed to you. </p>
                                            <p>4.5 The use of features such as membership, loyalty programs, promotions, reservations/bookings on our Mobile Application Service and/or Web Service is considered an action by you to opt-into the sharing of such information to the merchant and our Mobile Application Service and/or Web Service. This information may be shared with the Merchant and ur Mobile Application Service and/or Web Service and may be used to match offers and services to your profile. The information shared with the Merchant may be used at the Merchant’s discretion and our Mobile Application Service and/or Web Service does not assume liability or responsibility of how the information is used by the Merchant. </p>
                                            <h4>5. Disclosure to third parties</h4>
                                            <p>5.1 We may provide information to third parties who assist us in operating our Mobile Application Service and/or Web Service, conducting our business, or servicing you, as long as these parties agree to keep the information confidential. If you can be identified from the information that is disclosed, then we will not disclose such information without prior notification to you and we will obtain your approval and opt-in in relation to such disclosure.</p>
                                            <p>5.2 Information which does not constitute Personal Data may be provided to third parties for marketing, advertising, or other uses.</p>
                                            <p>5.3 Our Mobile Application Service and/or Web Service will never distribute or sell personal information from our users to any third party unaffiliated with our Mobile Application Service and/or Web Service. We may disclose your Personal Data to third parties without first obtaining your consent in certain situations, including, without limitation, the following circumstances:</p>
                                            <ul>
                                                <li> We respond to subpoenas, court orders, or legal process, or to establish or exercise our legal rights or defend against legal claims;</li>
                                                <li> In cases in which the purpose of such disclosure is clearly in your interests, and if consent cannot be obtained in a timely manner;</li>
                                                <li> In cases in which the disclosure is necessary to respond to an emergency that threatens the health or safety of yourself or another individual;</li>
                                                <li> In cases in which disclosure is necessary for any investigation or proceedings;</li>
                                                <li> In cases in which the disclosure is to a public agency and such disclosure is necessary in the public interest;</li>
                                                <li> In cases where disclosure without your consent is permitted by the PDPA or by law.</li>
                                                <li> We believe it is necessary to share information in order to investigate, prevent, or take action regarding illegal activities, suspected fraud, situations involving potential threats to the physical safety of any person, violations of Our Mobile Application Service and/or Web Service’s terms of use, or as otherwise required by law.</li>
                                                <li>
                                                    We will transfer information about your account to another company if Our Mobile Application Service and/or Web Service is acquired by or merged. In this event, Our Mobile Application Service and/or Web Service will notify you before information about you is transferred and becomes subject to a different privacy policy.
                                                    We may make user information available on at aggregated level to participating merchants or advertisers using the platform in the form of reports. This information does not contain personally identifiable information.
                                                </li>
                                            </ul>
                                            <h4>6. Accuracy of Personal Data</h4>
                                            <p>6.1 We take all reasonable measures to ensure that the Personal Data collected from you is accurate, comprehensive and up-to-date. However, if there are any errors or changes in relation to your Personal Data, you may contact us to correct such errors or to update your personal information by emailing us at: software.sales@newstead.com.sg .</p>
                                            <p>6.2 Once we receive sufficient information from you to deal with your request to correct your Personal Data, we will correct your Personal Data within 30 days. Please note that the PDPA exempts certain types of Personal Data from being subject to a request for correction and also provides for situations when corrections need not be made by us despite your request.</p>
                                            <h4>7. Access to Personal Data</h4>
                                            <p>7.1 We recognise that every individual has a right of access to his or her Personal Data. Should you wish to request for access to your Personal Data in our possession or control, you may make a written request (hereafter “Access Request”) to: software.sales@newstead.com.sg and we shall endeavour to respond to your access request within 30 days, failing which at the reasonably soonest time. We reserve the right to charge a fee to recover the costs and time spent in acceding to the Access Request. Please note that the PDPA exempts certain types of Personal Data from being subject to your Access Request.</p>
                                            <h4>8. Withdrawal of consent</h4>
                                            <p>8.1 You may withdraw your consent for the collection, use and/or disclosure of your Personal Data in our possession by submitting your request to: software.sales@newstead.com.sg . If you do not want your Personal Data to be shared among our Affiliates, please inform us by sending us an email at: software.sales@newstead.com.sg . If you do not wish to receive any further emails from us regarding launches, offers, promotions, special events or other information, you may unsubscribe by clicking the unsubscribe link in our mailers.</p>
                                            <p>8.2 Please note that if you withdraw your consent for a limited purpose, such as for marketing, we may still contact you or use your information for other purposes for which you have not withdrawn your consent and such Personal Data may still be used or shared, as permitted under the PDPA and other applicable law.</p>
                                            <p>8.3 We shall process your request within a reasonable time from such request for withdrawal of consent being made, and will thereafter not collect, use and/or disclose your Personal Data in the manner stated in your request. However, your withdrawal of consent could result in certain legal consequences arising from such withdrawal. Depending on the extent of your withdrawal of consent, it may mean that we will not be able to continue with your existing relationship with us.</p>
                                            <p>8.4 You can change your notification options at any time by contacting our Mobile Application Service and/or Web Service at: software.sales@newstead.com.sg . </p>
                                            <ul>
                                                <li> We reserve the right to send you certain communications relating to the our Mobile Application Service and/or Web Service, such as service announcements, administrative messages and service notifications, that are considered part of your Mobile Application Service and/or Web Service account, without offering you the opportunity to opt-out of receiving them.</li>
                                                <li> You can delete your Mobile Application Service and/or Web Service account by e-mailing software.sales@newstead.com.sg and requesting that we delete your account. You will not be able to recover any membership data, un-used gift-card value, loyalty points, reservation/booking data, transaction progress or rewards once your account has been deleted. Any information that may have been collected during your visits or use of our Mobile Application Service and/or Web Service may remain after your account has been permanently deleted for aggregated reporting and analysis, but this information may not be used to uniquely identify you.</li>

                                            </ul>
                                            <h4>9. Security of Personal Data</h4>
                                            <p>9.1 We have a variety of security measures to ensure that your Personal Data is adequately and securely protected and stored. Appropriate security arrangements will be taken to prevent any unauthorised access, collection, use, disclosure, copying, modification, leakage, loss, damage and/or alteration of your Personal Data.</p>
                                            <p>9.2 In addition, our Mobile Application Service and/or Web Service has security measures in place to protect against the accidental loss, misuse, and unauthorized access to your Personal Data while under our control. Such security measures include, but are not limited to, password controls, firewalls, and other industry standard security measures.</p>
                                            <p>9.3 We have a business continuity plan which identifies business functions and assets (including Personal Data) which would need to be maintained in the event of disaster and which sets out the procedures for protecting and restoring the Personal Data if necessary.</p>
                                            <p>9.4 You should be aware that no method of transmission over the Internet or method of electronic storage has 100% security. While security cannot be guaranteed, we strive to protect the security of your information and are constantly reviewing and enhancing our information security measures.</p>
                                            <p>9.5 We cannot assume responsibility for any unauthorised use of your Personal Data by third parties which are wholly attributable to factors beyond our control.</p>
                                            <p>9.6 We shall ensure that your Personal Data in our possession or under our control is destroyed and/or anonymized as soon as it is reasonable to assume that the purpose for which that Personal Data was collected is no longer being served by the retention of such Personal Data; and retention is no longer necessary for any other legal or business purposes.</p>
                                            <p>9.7 Where your Personal Data is to be transferred out of Singapore, we shall comply with the PDPA in doing so. This includes obtaining your consent unless an exception under the PDPA or law applies, and taking appropriate steps to ascertain that the recipient of the Personal Data is bound by legally enforceable obligations to provide a standard of protection for the Personal Data that is at least comparable to the protection under the PDPA.</p>
                                            <p>9.8 Our Mobile Application Service and/or Web Service will take reasonable and appropriate measures to ensure that a user’s personal information is delivered and disclosed only in accordance with a user’s instruction. Sophisticated secure technology is used to protect user data and data transmissions. However, our Mobile Application Service and/or Web Service cannot guarantee that the security of a user’s account information will not be compromised due to unauthorised access or use of our Mobile Application Service and/or Web Service, hardware failure, software failure, and other factors at any time. Please see our Mobile Application Service and/or Web Service’s Terms and Conditions at www.nuweb.com.sg for the full terms and conditions governing the use of our Mobile Application Service and/or Web Service.</p>
                                            <p>9.9 We care about your private information, so we make every effort to protect it including, but not limited to:</p>
                                            <ul>
                                                <li> Encrypting data through HTTPS</li>
                                                <li>Storing private data encoded</li>
                                                <li> Restricting access to personal information to only employees that require the information to process it</li>
                                            </ul>
                                            <h4>10. Usage of Cookies and re-targeting technologies</h4>
                                            <p>10.1 When you visit/use our Mobile Application Service and/or Web Service, we may assign your computer one or more "cookies." A cookie is a small amount of data that is sent to your browser from a web server and stored on your computer. We currently use cookies on our Mobile Application Service and/or Web Service for purposes including, but not limited to, detecting your web browser's multimedia capabilities, tracking promotional advertisements that we have displayed to you, maintaining current login and providing a unique identifier to your computer so that we can generate statistics regarding application/website usage. By accessing our Mobile Application Service and/or Web Service, you agree that we can place cookies on your device.</p>
                                            <p>10.2 Most browsers automatically accept cookies, but you can modify your browser setting to decline cookies. Generally, you can remove these cookies by following directions provided in your Internet browser's "help" file. If you choose not to allow us to place a cookie on your computer, you may be restricted from some services and some of the interactive features offered on our Mobile Application Service and/or Web Service may be similarly restricted or rendered inoperable.</p>
                                            <p>10.3 In addition to cookies, we may also use other Internet technologies, such as web beacons or pixel tags, and other similar technologies, to deliver or communicate with cookies and track your use of our Mobile Application Service and/or Web Service. The information we obtain in this manner is primarily for statistical analysis purposes and enables us measure the overall effectiveness of our Content, advertising campaigns, and the products/services we offer through our Mobile Application Service and/or Web Service. By accessing our Mobile Application Service and/or Web Service and agreeing to receive our notifications, e-mail messages or newsletters, you agree that we can use technologies such as those mentioned above on your device(s).</p>
                                            <p>10.4 Our Mobile Application Service and/or Web Service may contain web analytic services provided by third parties such as, but not limited to, Google Analytics. This means that when you visit our Mobile Application Service and/or Web Service, a cookie will be stored on your computer, except when your browser settings do not allow for such cookies. This is used to collect data about your online activities while you are on our Mobile Application Service and/or Web Service for the purposes of analysis on our behalf and this information may be used to measure usage of our Mobile Application Service and/or Web Service and personalize advertising content on our Mobile Application Service and/or Web Service. Google Analytics, and/or other data analytical tools, acts as our agent, which means that we solely determine the purposes for which the data is being used. If you do not wish information about your behaviour at our Mobile Application Service and/or Web Service to be collected and assessed by Google Analytics and/or other data analytical tools, you can install the Google Analytics opt-out browser add-on to opt-out of this data collection process.</p>
                                            <p>10.5 Our Mobile Application Service and/or Web Service may use retargeting technologies which enables us to show our visitors advertisements from us on partner websites/applications. We also work with other companies who use tracking technologies to serve advertisements on our behalf across the Internet. These companies may collect non-personally identifiable information about your visits to our Mobile Application Service and/or Web Service. Retargeting technologies analyse your cookies and display advertisement based on your past surfing/usage behaviour.</p>
                                            <p>10.6 When using our Mobile Application Service and/or Web Service, we may use and store your location data if it has been explicitly granted to the application or website by you, to verify transactions as well as to improve the user experience through localized content. Our Mobile Application Service and/or Web Service may use technologies available through the devices including GPS, WiFi, IP address and cell towers to generate your location.</p>
                                            <h4>11. Changes to Privacy Policy</h4>
                                            <p>11.1 We reserve the right to amend our Privacy Policy at any time. If there are changes or additions to this Privacy Policy, we will post those changes here.</p>
                                            <p>11.2 If we change our practices in such a way that your Personal Data may be used or shared in a manner not described in the Privacy Policy at the time you provided it, we will give you the opportunity to opt-out of having your Personal Data used or shared in that manner.</p>
                                            <p>
                                                11.3 Our Mobile Application Service and/or Web Service may amend this Privacy Policy from time to time. Use of currently collected information shall be subjected to the Privacy Policy in effect at the time such information is used. If our Mobile Application Service and/or Web Service makes changes to the Privacy Policy, such changes will also be posted on our Mobile Application Service and/or Web Service.
                                            </p>
                                            <h4>12. Complaint process</h4>
                                            <p>12.1 Should you have any complaint regarding the way we handle your Personal Data or relating to our compliance with the PDPA, please contact us with details of your complaint via:</p>
                                            <ul>
                                                <li>  Email: software.sales@newstead.com.sg</li>
                                                <li> Address: City Square Mall, 180 Kitchener Road, #09-01, Singapore 208539</li>
                                            </ul>
                                            <p>12.2 All complaints will be evaluated by us in a timely manner. After we have completed the evaluation, we shall respond to the person who submitted the complaint with the results of our evaluation.</p>
                                            <h4>13. Acceptance</h4>
                                            <p>13.1 The user consents to our Mobile Application Service and/or Web Service’s collection and use of information as set forth in this Privacy Policy and our Mobile Application Service and/or Web Service’s Terms and Conditions at www.nuweb.com.sg . By registering with our Mobile Application Service and/or Web Service, providing any information under our Mobile Application Service and/or Web Services or starting or continuing to use our Mobile Application Service and/or Web Service in any way, you acknowledge that you have read and agree to all the terms set out in this Privacy Policy and our Mobile Application Service and/or Web Service’s Terms and Conditions at www.nuweb.com.sg . If you do not agree to the terms of this Privacy Policy or our Mobile Application Service and/or Web Service’s Terms and Conditions at www.nuweb.com.sg , please do not provide our Mobile Application Service and/or Web Service with any information or use our Mobile Application Service and/or Web Service in any way</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div style="text-align: center; padding-top: 10px; padding-bottom: 5px;">
                                <div class="text-center">
                                    @Html.CheckBoxFor(model => model.IsCheckPolicies, new { @id = "IsCheckPolicies", @class = "flat" }) I acknowledge and agree with the Newstead policies
                                </div>
                            </div>
                        </div>


                        <div class="col-md-12 col-sm-12 col-xs-12">
                            <div style="padding-right: 0px !important; " class="col-md-8 col-sm-10 col-xs-12 col-md-offset-2 col-sm-offset-1">
                                    <div class="actionBar">
                                        @*<div class="msgBox">
                                            <div class="content"></div>
                                            <a href="#" class="close">X</a>
                                        </div>*@
                                        @*<div class="loader">Loading</div>*@
                                        <a href="javascript:void(0);" class="buttonPrevious btn btn-default" id="btn-Previous" onclick="Previous(this)">&nbsp;PREVIOUS</a>
                                        <a href="javascript:void(0);" class="buttonNext btn btn-success" id="btn-Next" onclick="Next(this)">&nbsp;NEXT</a>
                                        <a id="btn-Signup" href="javascript:void(0)" class="btn btn-success" onclick="SubmitForm('#form-register')" style="display: none;">Sign Up</a>
                                        <a href="javascript:void(0);" class="buttonFinish btn btn-default" id="btn-Cancel" onclick="Cancel(this)">&nbsp;CANCEL</a>
                                        @*<a href="javascript:void(0);" class="btn btn-warning" id="btn-Signup" onclick="SignUp(this)">&nbsp;SIGN UP</a>*@
                                    </div>
                            </div>                            
                        </div>
                    </div>
            <!-- End SmartWizard Content -->

            <div id="idGroupVerification" style="display: none;">
                <div style="margin-top: 25px; text-align: center;">
                    <div class="form-group row">
                        <p style="padding-bottom: 7px; ">A verification code is send to your registered email.<br /> Please help to check and confirm registration.</p>
                        <p><b>Enter your verification code</b></p>
                        <input type="text" id="txtCusCode" style="text-align:center; padding: 5px 15px 5px 15px; " />
                        <p id="Errorcode" style="display: none ; color: red; ">Verification code is incorrect! Please try again... </p>                        
                    </div>
                    <div>
                        <p>Don't see the email?<span><a href="javascript:void(0)" style="color: #00BFFF;  text-decoration: underline;" onclick="ReSendEmail()">Re-send verification mail.</a></span></p>
                    </div>
                    <div>
                        <a style="padding: 5px 25px 5px 25px;" href="javascript:void(0)" class="btn btn-success" onclick="Verify()">VERIFY</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<script>
    var offset = 1;
    function SubmitForm(form) {
        $(form).submit();
    }

    $("#form-register").submit(function (e) {
        //var email = $('#txtCusEmail').val();
        $('.se-pre-con').show();
        $.ajax({
            url: $(this).attr('action'),
            type: "post",
            data: new FormData(this),
            processData: false,
            contentType: false,
                error: function (jqXHR, textStatus, errorThrown) {
                $('.se-pre-con').hide();
                $(".detail-view").html(jqXHR.responseText);
            },
            success: function (data) {
                //alert(email);
                $('#idGroupRegister').hide();
                $('#idGroupVerification').show();
                //window.location = "/SignUp/Verification?email=" + email;
                $('.se-pre-con').hide();
                //CloseDetail();
                //Search();
                $('.check-step-3').css({ "background-color": "#28acf7", "color": "white" });
            },
            complete: function () {
                $('.se-pre-con').hide();
            }
        });
        e.preventDefault();
    });
    var Flag = "false";
    //$("h4").css({"font-weight": "bolder", "margin-left": "30px" });
    //$("p").css({"text-indent": "40px", "text-align": "justify" });
    //$("ul").css({"text-align": "justify", "list-style-position": "inside" });
    $(document).ready(function () {
        init_ICheck();
        $("#btn-Previous").css("display", "none");
        $("#btn-Signup").css("display", "none");
        //$(".check-step").hide();
        var id_value = $('.selected').attr('id');

        //$('.cstep').each(function (index, element) {
        //    // element == this
        //    $("element").find(spans).css("color", "red");
        //    $(element).not('.active').addClass('done');
        //    $('.done').html('<i class="icon-ok"></i>');
        //    if ($(this).is('.active')) {
        //        return false;
        //    }
        //});

        //$('#step_1').click(function () {
        //    $('#step-1').css('display', 'block');
        //    $('#step-2').css('display', 'none');
        //    $('#step-3').css('display', 'none');
        //});

        $("#CountryDdl").select2({
            placeholder: "Please choose the Country"
        });
        $("#CountryDdl2").select2({
            placeholder: "Please choose the Country"
        });
        $("#CountryDdl3").select2({
            placeholder: "Please choose the Country"
        });
        checkSignup(Flag);
    });
    $('#IsCheckPolicies').on('ifChanged', function (event) {
        Flag = event.target.checked;
        checkSignup(Flag);
    });
    function checkSignup(_flag) {
        if (_flag != true)
            $('#btn-Signup').addClass('buttonDisabled');
       else
            $('#btn-Signup').removeClass('buttonDisabled');
    };
    /* ICHECK */
    function init_ICheck() {
        if ($("input.flat")[0]) {
            $(document).ready(function () {
                $('input.flat').iCheck({
                    checkboxClass: 'icheckbox_flat-green iradioNoneBorder',
                    radioClass: 'iradio_flat-green'
                });
            });
        }
    };

    function validateEmail(email) {
        var re = /^(([^<>()\[\]\\.,;:\s"]+(\.[^<>()\[\]\\.,;:\s"]+)*)|(".+"))((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
        return re.test(email);
    }

    function Next(e) {
        var id_value = $('.selected').attr('id');
        var array = id_value.split('_');
        var isCheck = true;
        if (array[1] == 1) {
            var txtName = $('#txtCusName').val();
            var txtPhone = $('#txtCusPhone').val();
            var txtEmail = $('#txtCusEmail').val();
            var txtPassword = $('#txtCusPassword').val();
            var txtConfirmPassword = $('#txtCusConfirmPassword').val();
            if (!txtName.trim().length) {
                $('#txtCusName').val(txtName);
                $('#errorCusName').show();
                isCheck = false;
            }
            else {
                $('#txtCusName').val(txtName);
                $('#errorCusName').hide();
            }
            if (!txtPhone.trim().length) {
                $('#txtCusPhone').val(txtPhone);
                $('#errorCusPhone').show();
                isCheck = false;
            }
            else {
                $('#txtCusPhone').val(txtPhone);
                $('#errorCusPhone').hide();
            }
            if (!txtEmail.trim().length) {
                $('#txtCusEmail').val(txtEmail);
                $('#errorCusEmail').show();
                isCheck = false;
            }
            else {
                $('#errorValidCusEmail').hide();
                var atpos = txtEmail.indexOf("@@");
                var dotpos = txtEmail.lastIndexOf(".");
                if (atpos < 1 || dotpos < atpos + 2 || dotpos + 2 >= txtEmail.length) {
                    $('#txtCusEmail').val(txtEmail);
                    $('#errorCusEmail').hide();
                    $('#errorValidCusEmail').show();
                    isCheck = false;
                }
                else {
                    $('#txtCusEmail').val(txtEmail);
                    $('#errorCusEmail').hide();
                    $('#errorValidCusEmail').hide();
                }
            }
            if (!txtPassword.trim().length) {
                $('#txtCusPassword').val(txtPassword);
                $('#errorPassword').show();
                isCheck = false;
            }
            else {
                $('#txtCusPassword').val(txtPassword);
                $('#errorPassword').hide();
            }
            if (!txtConfirmPassword.trim().length) {
                $('#txtCusConfirmPassword').val(txtConfirmPassword);
                $('#errorConfPassword').show();
                isCheck = false;
            }
            else {
                $('#txtCusConfirmPassword').val(txtConfirmPassword);
                $('#errorConfPassword').hide();
            }
            if ((txtPassword.trim().length) && (txtConfirmPassword.trim().length)) {
                if (txtPassword != txtConfirmPassword) {
                    $('#txtCusConfirmPassword').val(txtConfirmPassword);
                    $('#errorCorrectConfPassword').show();
                    isCheck = false;
                }
                else {
                    $('#txtCusConfirmPassword').val(txtConfirmPassword);
                    $('#errorCorrectConfPassword').hide();
                }
            }
            if (isCheck == true) {
                $.ajax({
                    url: '@Url.Action("CheckEmail", "SignUp")',
                    type: 'POST',
                    dataType: 'html',
                    cache: false,
                    data: {email: txtEmail} ,
                    error: function (e) {
                        if (e.status == 400) {
                            $('#ErrorCheckEmail').show();
                        }
                        else {
                            $('#ErrorCheckEmail').hide();
                        }
                    },
                    success: function (data) {
                        //offset++;
                        $('#ErrorCheckEmail').hide();
                        $('.se-pre-con').hide();
                        if (array[1] < 3) {
                            $("#btn-Previous").show();
                            if (array[1] == 2) {
                                $("#btn-Next").hide();
                                $("#btn-Signup").show();
                            }
                            $('#' + id_value).removeClass('selected');
                            $('#' + id_value).addClass('done');
                            $('#step_' + (parseFloat(array[1]) + 1)).addClass('selected').removeClass('done');
                            $('#step-' + (parseFloat(array[1]) + 1)).css('display', 'block');
                            $('#step-' + (parseFloat(array[1]))).css('display', 'none');
                            $('.check-step-1').css({ "background-color": "#28acf7", "color": "white" });
                            $('.check-step-2').css({ "background-color": "#28acf7", "color": "#28acf7" });
                        }
                    }, beforeSend: function () {
                        $('.se-pre-con').show();
                    },
                    complete: function () {
                        $('.se-pre-con').hide();
                    }
                });
            }
        }
        if (array[1] == 2) {
            var txtName = $('#txtMerName').val();
            var txtEmail = $('#txtMerEmail').val();
            if (!txtName.trim().length) {
                    $('#errorMerName').show();
                isCheck = false;
            }
            else {
                    $('#txtMerName').val(txtName);
                    $('#errorMerName').hide();
            }
            if (!txtEmail.trim().length) {
                    $('#errorMerEmail').show();
                isCheck = false;
            }
            else {
                var atpos = txtEmail.indexOf("@@");
                var dotpos = txtEmail.lastIndexOf(".");
                if (atpos < 1 || dotpos < atpos + 2 || dotpos + 2 >= txtEmail.length) {
                        $('#txtMerEmail').val(txtEmail);
                        $('#errorMerEmail').hide();
                        $('#errorValidMerEmail').show();
                    isCheck = false;
                }
                else {
                        $('#txtMerEmail').val(txtEmail);
                        $('#errorMerEmail').hide();
                        $('#errorValidMerEmail').hide();
                    isCheck = true;
                }
            }
            if (isCheck == true) {
                //offset++;
                if (array[1] < 3) {
                        $("#btn-Previous").show();
                    if (array[1] == 2) {
                        $("#btn-Next").hide();
                        $("#btn-Signup").show();
                        $("#btn-Signup").show();
                    }
                    $('#' + id_value).removeClass('selected');
                    $('#' + id_value).addClass('done');
                    $('#step_' + (parseFloat(array[1]) + 1)).addClass('selected').removeClass('done');
                    $('#step-' + (parseFloat(array[1]) + 1)).css('display', 'block');
                    $('#step-' + (parseFloat(array[1]))).css('display', 'none');
                    $('.check-step-2').css({ "background-color": "#28acf7", "color": "white" });
                    $('.check-step-3').css({ "background-color": "#28acf7", "color": "#28acf7" });
                }
                else {
                    isCheck = false;
                }
            }
        //ChangeStep(offset);
        }
    }

    function Cancel(e) {
        var id_value = $('.selected').attr('id');
        if (id_value === "step_1") {
            window.location.href = "/";
        }
        else {
            $("#btn-Next").show();
            $("#btn-Previous").hide();
            $("#btn-Signup").hide();

            var array = id_value.split('_');
            if ((array[1] > @index)) {
                $('#' + id_value).removeClass('selected');
                $('#' + id_value).addClass('done');
                $('#step_1').addClass('selected').removeClass('done');
                $('#step-1').css('display', 'block');
                $('#step-' + array[1]).css('display', 'none');
            }
        }
    }

    function Previous(e) {
        var id_value = $('.selected').attr('id');
        var array = id_value.split('_');
        if ((array[1] > @index) && (array[1] < 4)) {
            if (array[1] == 2) {
                    $("#btn-Next").show();
                    $("#btn-Previous").hide();
                    $("#btn-Signup").hide();
            }
            if (array[1] == 3) {
                    $("#btn-Previous").show();
                    $("#btn-Next").show();
                    $("#btn-Signup").hide();
            }
                $('#' + id_value).removeClass('selected');
                $('#' + id_value).addClass('done');
                $('#step_' + (parseFloat(array[1]) - 1)).addClass('selected').removeClass('done');
                $('#step-' + (parseFloat(array[1]) - 1)).css('display', 'block');
                $('#step-' + (parseFloat(array[1]))).css('display', 'none');
        }
        else {

        }
    }

    function SignUp(e) {
        var id_value = $('.selected').attr('id');
        var array = id_value.split('_');
        var isCheckPolicie = $('#IsCheckPolicies').prop('checked');
        if (isCheckPolicie == false) {
            alert('Please confirm the policy to complete the registration');
        }
        else {
        }
    };

    function Register() {
        $.ajax({
            url: $(this).attr('action'),
            type: "post",
            data: new FormData(this),
            processData: false,
            contentType: false,
            success: function () {
                CloseDetail();
                Search();
            },
            error: function (jqXHR, textStatus, errorThrown) {
            },
            beforeSend: function () {
                $('.se-pre-con').show();
            },
            complete: function () {
                $('.se-pre-con').hide();
            }
        });
        e.preventDefault();
    }

    function showCusPictureUpload() {
        $('[id=CusPictureUpload]').click();
    }

    function showMerPictureUpload() {
        $('[id=MerPictureUpload]').click();
    }    

    function ReSendEmail() {
        var email = $('#txtCusEmail').val();
        var ResendEmailModels = {
            Email: email
        };
        $.ajax({
            url: '@Url.Action("ResendMail", "SignUp")',
                type: 'POST',
                dataType: 'html',
                cache: false,
                data: { model: ResendEmailModels },
                success: function (data) {
                }, beforeSend: function () {
                    $('.se-pre-con').show();
                },
                complete: function () {
                    $('.se-pre-con').hide();
                }
            });
    };

    function Verify() {
        var Code = $('#txtCusCode').val();
        var email = $('#txtCusEmail').val();
        var VerificationModels = {
            VerificationCode: Code,
            ReSendEmail: email
        };
        $.ajax({
            url: '@Url.Action("Verify", "SignUp")',
            type: 'POST',
            dataType: 'html',
            cache: false,
            data: { model: VerificationModels },
            error: function (e) {
                if (e.status == 400) {
                    $('#Errorcode').show();
                }
                else {
                    $('#Errorcode').hide();
                }
            },
            success: function (e) {
                $('.se-pre-con').hide();
                window.location = "/Home/Index";
            }, beforeSend: function () {
                $('.se-pre-con').show();
            },
            complete: function () {
                $('.se-pre-con').hide();
                //window.location = "/Home/Index";
            }
        });
    };
</script>

