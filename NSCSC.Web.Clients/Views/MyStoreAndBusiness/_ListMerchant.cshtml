@model NSCSC.Shared.Models.ClientSite.MyStoreAndBusiness.MyStoreAndBusinessMerchantViewModels
@using NSCSC.Shared.Helpers
@using NSCSC.Shared
@{
    ViewBag.Title = "My Store and Business - List Merchant";
}

<div class="se-pre-con" style="display: none;"></div>
<div class="">
    <div class="title_left">
        <div class="container">
            <h3>
                <small class="breadcrum">
                    <a href="@Url.Action("Index", "Home")">Home</a>
                    <i class='fa fa-caret-right'></i>
                    <span>My Store & Business</span>
                </small>
            </h3>
            <div class="clearfix"></div>
        </div>
    </div>
    <div class="clearfix"></div>

    <div class="row" id="head-my-store-business" style="padding-bottom:30px;">
        <span class="text-uppercase font-weight text-margin-left" style="font-size:20px;">My Store & Business</span>
    </div>

    <div class="row box-my-profile" id="content-list-merchant" style="padding:0;">
        <div class="table-responsive" style="overflow-x:hidden;">
            <div class="x_panel">
                <div class="x_title">
                    <h2></h2>
                    <div class="clearfix"></div>
                </div>
                <div class="x_content">
                    <table id="datatable-responsive-list-merchant" class="table table-striped table-bordered dt-responsive nowrap table table-striped jambo_table bulk_action" role="grid" aria-describedby="example_info" cellspacing="0" style="width:100%;">
                        <thead style="background-color:#D9E0E8; color:#000;">
                            <tr>
                                <th class="text-center">Create Date</th>
                                <th class="text-center">Merchant Name</th>
                                <th class="text-center">Number of Store</th>
                                <th class="text-center">Customer's Name</th>
                                <th class="text-center">Phone Number</th>
                                <th class="text-center">Email</th>
                                <th class="text-center"></th>
                            </tr>
                        </thead>
                        <tbody>

                            @if (@Model.ListMerchant != null && @Model.ListMerchant.Count > 0)
                            {
                                for (int i = 0; i < @Model.ListMerchant.Count; i++)
                                {
                                    var @item = @Model.ListMerchant[i];
                                    <tr class="">
                                        <td class="text-center">@item.CreatedDate.ToString(Commons.FormatDateTime)</td>
                                        <td>@item.Name</td>
                                        <td class="text-center">@item.NumOfStore</td>
                                        <td class="text-center">@item.CustomerName</td>
                                        <td>@item.MaskPhone</td>
                                        <td>@item.MaskEmail</td>
                                        <td style="text-align:center;">
                                            <a href="@Url.ActionEncoded("Index", "MyStoreAndBusiness",
                                                    new {
                                                        id = item.CustomerID,
                                                    })"
                                               class="btn btn-view">View</a>
                                        </td>
                                    </tr>

                                }
                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
    $(document).ready(function () {
        $('#datatable-responsive-list-merchant').DataTable({
            "columnDefs": [
                { "orderable": false, "targets": 6 },
                { "width": "10%", "targets": [2, 4, 6] },
                //{
                //    //hide column
                //    "targets": [5],
                //    "visible": false,
                //    "searchable": false
                //},
                //{
                //    "targets": [3],
                //    "visible": false
                //}
            ],
            "order": [
                [0, "desc"],
            ],
            //"searching": true,
            //"lengthChange": true,
            //"paging": true,
            "displayLength": 25,
            "sPaginationType": "numbers",//hide Pre|Next on row footer
            //"ordering": false, //hide Order on row header
        });
    });
</script>
